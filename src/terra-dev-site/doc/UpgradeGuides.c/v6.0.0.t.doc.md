# v6.0.0 Upgrade Guide

This document will provide information on upgrading from Terra Toolkit `5.0.0` to `6.0.0`.

## Browser Router

Previously terra-dev-site used a hash router `/#/` to display it's pages. This interferes with anchor tags which also use the hash to denote where to go on the page. To resolve this terra-dev-site has switched to a browser router. Current links using the hash router will still resolve, slash routes with the hash will be redirected to the equivalent non hash route.

To support hash routing with path based routing for gh-pages style deployments, you must supply an env variable, `TERRA_DEV_SITE_PUBLIC_PATH`, describing the path for assets to be served from.

For example, for a page hosted on github pages with a url of: http://cerner.github.com/terra-dev-site. The environment variable should be set as follows.

```bash
TERRA_DEV_SITE_PUBLIC_PATH='/terra-dev-site/'
```

Without the environment variable set assets will assume they are served from `/` when they should be served from `/terra-dev-site/`

## site.config

A few sections have been removed from site.config.

* Theme import - The need for this option has been removed with the aggregate-themes project.

* Extension config - The new navigation has a tighter definition of extensions and the github link no longer makes sense as an extension. Extensions are still customizable but the api has changed.

## navigation.config

* Hide - The option to hide a navigation tab has been removed. This option was always a little weird. We wanted to hide the test tab for terra-ui and have access to it for sites with tests. It has caused discoverability issues and it's best if we just show the tab if available.

## Dynamic Imports

The code generated by terra dev site has always required transpilation, but with the addition of code splitting, the @babel/plugin-syntax-dynamic-import babel plugin is now required.

```bash
npm install --save-dev @babel/plugin-syntax-dynamic-import
```
